
Section 1: Create a staging database
------------------------------------

To deploy, execute and play around with the data validation framework objects available in this source code,
you may want to create a database with the name "Staging_DB".

If you prefer to re-use an existing database to test this data validation framework,
then you will need to update the database name in these SQL scripts appropriately.

Section 2: Update ScriptFilesPath in master script files
------------------------------------
In the downloaded source code, you will find three master script files as below:

(i) 	00_Master_Script_01_Deploy_DVFramework_objects.sql
(ii) 	00_Master_Script_02_Deploy_Example_ValidationProcess_objects.sql
(iii) 	00_Master_Script_03_DataValidation_BatchRun.sql

Open these three master script files in SSMS, and update the ScriptFilesPath as below:

Original value: :SETVAR ScriptFilesPath "E:\DataValidationFramework\SQLScripts\"
Replace it with appropriate file path so that the value of this variable
points to the path that the downloaded source code of the data validation framework was saved to:

Section 3: Deploying framework and example validation process
-------------------------------------------------------------
Section 3.1:
Before you run the 1st master script file (00_Master_Script_01_Deploy_DVFramework_objects.sql),
in SSMS, enable SQLCMD mode for this master script file (Menu: Query > SQLCMD mode)

Run the 1st master script file by pressing F5.

Check error log file (00_DVFramework_Deployment_ErrorLog.txt) that gets generated in the same folder as the downloaded script files.

Resolve errors, if any.

Make sure no errors raised.

Section 3.2:
Before you run the 2nd master script file (00_Master_Script_02_Deploy_Example_ValidationProcess_objects.sql),
in SSMS, enable SQLCMD mode for this master script file (Menu: Query > SQLCMD mode)

Run the 2nd master script file by pressing F5.

Check error log file (00_Example_DataValidationProcess_Deployment_ErrorLog.txt) that gets generated in the same folder as the downloaded script files.

Resolve errors, if any.

Make sure no errors raised.

Section 4: Execute example data validation process
--------------------------------------------------
Before you run the 3rd master script file (00_Master_Script_03_DataValidation_BatchRun.sql),
in SSMS, enable SQLCMD mode for this master script file (Menu: Query > SQLCMD mode)

Section 4.1:
Run the 3rd master script file by pressing F5.

Section 5: Inspect output
--------------------------
The data validation output has two parts:

Part 1: Standard output

To inspect the standard output of the example validation process, use the SQL queries in the below files:
- Example_Output_SQLQuery_for_standard_output_01_Customer.sql
- Example_Output_SQLQuery_for_standard_output_02_Account.sql
- Example_Output_SQLQuery_for_standard_output_03_Address.sql

Part 2: XML output:
The XML output is generated by the stored procedure dbo.usp_DataValidation_Generate_XML_Output.
In this example validation process, it was invoked by the 3rd master script file as in section 4.1 above.
The XML output is written to database table: dbo.DataValidationOutputXML

Apart from the dynamic SQL in the stored procedure (dbo.usp_DataValidation_Generate_XML_Output),
three example static SQL queries as below are also available in the source code, for reference:
- Example_SQLQuery_for_XML_Output_01_Customer.sql
- Example_SQLQuery_for_XML_Output_02_Account.sql
- Example_SQLQuery_for_XML_Output_03_Address


